(this.webpackJsonphallbookingapp=this.webpackJsonphallbookingapp||[]).push([[0],{11:function(e,t,c){},12:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),l=c(5),r=c.n(l),n=(c(11),c(2)),i=(c(12),a.a.createContext()),o=c(0),d=function(e){return Object(o.jsxs)("table",{className:"table table-striped",children:[Object(o.jsx)("thead",{className:"thead-dark",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{className:"text-left",children:"Customer Name"}),Object(o.jsx)("th",{className:"text-left",children:"Room Name"}),Object(o.jsx)("th",{className:"text-left",children:"Booked Date"}),Object(o.jsx)("th",{className:"text-left",children:"Slot"}),Object(o.jsx)("th",{className:"text-left",children:"Start-time"}),Object(o.jsx)("th",{className:"text-left",children:"End-time"})]})}),Object(o.jsx)("tbody",{children:e.room.customers.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"text-left",children:e.customerName}),Object(o.jsx)("td",{className:"text-left",children:"Room "+e.roomName}),Object(o.jsx)("td",{className:"text-left",children:e.date}),Object(o.jsx)("td",{className:"text-left",children:e.slot.slotName}),Object(o.jsx)("td",{className:"text-left",children:e.slot.startTime}),Object(o.jsx)("td",{className:"text-left",children:e.slot.endTime})]},t)}))})]})},j=c(4),m=c.n(j),b=c(6),h=function(e){var t=a.a.useState(""),c=Object(n.a)(t,2),s=c[0],l=c[1],r=a.a.useState(""),d=Object(n.a)(r,2),j=d[0],h=d[1],x=function(){var t=Object(b.a)(m.a.mark((function t(c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(c,s,j),t.next=3,fetch("https://damp-caverns-01669.herokuapp.com/rooms/"+c.room.room+"/"+c.date+"/"+c.slot,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerName:s.trim(),email:j.trim(),roomName:c.room.room,date:c.room.dates[+c.date].date,slot:e.slot})}).then((function(e){return e.json()}));case 3:a=t.sent,alert(a.message),2!==a.code&&window.location.reload();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.jsx)(i.Consumer,{children:function(t){return Object(o.jsx)("div",{className:"card mt-3",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("div",{className:"card-title",children:[Object(o.jsx)("p",{className:"text-right cur",onClick:e.hideForm,children:"X"}),Object(o.jsx)("p",{className:"h4 text-center",children:e.slot.slotName+"Slot"})]}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"card-text",children:Object(o.jsxs)("form",{action:"",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-sm-12",children:[Object(o.jsx)("label",{htmlFor:"cName",children:"Your Name"}),Object(o.jsx)("input",{type:"text",id:"cName",className:"form-control",value:s,onChange:function(e){return l(e.target.value)},required:!0})]})}),Object(o.jsx)("div",{className:"row mt-3",children:Object(o.jsxs)("div",{className:"col-sm-12",children:[Object(o.jsx)("label",{htmlFor:"email",children:"Email Id"}),Object(o.jsx)("input",{type:"email",id:"email",className:"form-control",required:!0,value:j,onChange:function(e){return h(e.target.value)}})]})}),Object(o.jsx)("div",{className:"row mt-3",children:Object(o.jsx)("div",{className:"col-sm-12",children:Object(o.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(e){e.preventDefault(),x(t[0])},children:"Submit"})})})]})})]})})}})},x=function(e){var t=a.a.useState(!1),c=Object(n.a)(t,2),s=c[0],l=c[1],r=a.a.useState({}),d=Object(n.a)(r,2),j=d[0],m=d[1],b=function(){return l(!1)};return Object(o.jsx)(i.Consumer,{children:function(t){return Object(o.jsx)("div",{className:"card m-3",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("div",{className:"card-title",children:[Object(o.jsx)("p",{className:"text-right cur",onClick:function(){return e.hideSlot()},children:"X"}),Object(o.jsx)("p",{className:"h4 text-center",children:e.date+" Slots"})]}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:"card-text",children:[Object(o.jsx)("div",{className:"row",children:e.slots.map((function(e,c){return Object(o.jsx)("div",{className:"col-lg-4 col-md-4 col-sm-12",children:Object(o.jsx)("div",{className:"card",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"card-title",children:Object(o.jsx)("p",{className:"h5 text-center",children:e.slotName})}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:"card-text",children:[Object(o.jsx)("div",{className:"row justify-content-center m-5",children:Object(o.jsx)("div",{className:"col-sm-12 text-center",children:Object(o.jsx)("button",{className:"available"===e.status?"btn btn-success":"btn btn-danger",type:"button",onClick:function(){var s=t[0];s.slot=c,t[1](s),"available"===e.status?(m(e),l(!0)):alert("slot booked please select another slot")},children:"Book Slot"})})}),Object(o.jsx)("p",{className:"text-center",children:"Time : "+e.startTime+" to "+e.endTime}),Object(o.jsx)("p",{className:"text-center",children:"Status : "+e.status})]})]})})},c)}))}),s?Object(o.jsx)("div",{className:"row justify-content-center",children:Object(o.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-10",children:Object(o.jsx)(h,{hideForm:b,slot:j})})}):null]})]})})}})},u=function(e){var t=a.a.useState([]),c=Object(n.a)(t,2),s=c[0],l=c[1],r=a.a.useState(""),j=Object(n.a)(r,2),m=j[0],b=j[1],h=a.a.useState(!1),u=Object(n.a)(h,2),O=u[0],N=u[1],v=a.a.useState(!1),f=Object(n.a)(v,2),p=f[0],S=f[1],g=function(){S(!1)};return Object(o.jsx)(i.Consumer,{children:function(t){return Object(o.jsx)("div",{className:"mt-5 mb-5",children:Object(o.jsx)("div",{className:"card",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsx)("div",{className:"card",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"card-title",children:Object(o.jsx)("p",{className:"h4 text-center",children:"Room "+e.room.room})}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:"card-text",children:[Object(o.jsx)("p",{className:"h5 text-center m-4",children:"Price : Rs."+e.room.price}),Object(o.jsx)("p",{className:"h5 text-center m-4",children:"Seats "+e.room.seats})]})]})})}),Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsx)("div",{className:"card",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"card-title",children:Object(o.jsx)("p",{className:"h4 text-center",children:"Dates"})}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"card-text",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-sm-12 mt-2 mb-2",children:Object(o.jsx)("div",{className:"row",children:e.room.dates.map((function(c,s){return Object(o.jsxs)("div",{className:"col-lg-4 col-md-12 col-sm-12 mb-2 text-center",children:[Object(o.jsx)("button",{className:"available"===c.status?"btn btn-success":"btn btn-danger",onClick:function(){t[1]({room:e.room,date:s,slot:""}),console.log(c.status),"available"===c.status?function(e,t){S(!0),l(e),b(t)}(c.slots,c.date):alert("All slots are filled for this date")},children:c.date}),Object(o.jsxs)("p",{className:"text-center",children:["Status : ",c.status]})]},s)}))})}),Object(o.jsx)("div",{className:"col-sm-12 text-center mt-2 mb-2",children:Object(o.jsxs)("p",{className:"h6",children:["Room Status : ",e.room.status]})})]})})]})})})]}),p?Object(o.jsx)(x,{slots:s,date:m,hideSlot:g}):null,Object(o.jsx)("div",{className:"row mt-5 justify-content-center",children:Object(o.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-6 text-center",children:Object(o.jsx)("button",{className:"btn btn-block btn-primary",onClick:function(){N(!O)},children:O?"hide Data":"Show Booked Customers"})})}),O?Object(o.jsx)("div",{className:"row m-5 tableRow",children:Object(o.jsx)(d,{room:e.room})}):null]})})})}})},O=function(){var e=a.a.useState([]),t=Object(n.a)(e,2),c=t[0],s=t[1];return a.a.useEffect((function(){fetch("https://damp-caverns-01669.herokuapp.com/rooms").then((function(e){return e.json()})).then((function(e){return s(c.concat(e))}))}),[]),Object(o.jsx)("div",{className:"container",children:c.map((function(e,t){return Object(o.jsx)(u,{room:e},t)}))})};var N=function(){var e=a.a.useState({room:{},date:"",slot:""}),t=Object(n.a)(e,2),c=t[0],s=t[1];return Object(o.jsxs)(i.Provider,{value:[c,s],children:[Object(o.jsx)("div",{className:"container mt-5",children:Object(o.jsx)("h1",{className:"text-center",children:"Hall Booking App"})}),Object(o.jsx)(O,{})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,16)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,l=t.getLCP,r=t.getTTFB;c(e),s(e),a(e),l(e),r(e)}))};r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(N,{})}),document.getElementById("root")),v()}},[[15,1,2]]]);
//# sourceMappingURL=main.a2cb05da.chunk.js.map